{% extends "base.html" %}
{% block main %}
    <div id="overlay" onclick="document.getElementById('overlay').remove()">
        <h1>Now Schnick!</h1>
        <h2>Rules:</h2>
        <div class="rules">
            <img class="rule-icon" src="assets/rock.svg" alt="rock">
            <img class="rule-icon" src="assets/arrow_right.svg" alt="beats">
            <img class="rule-icon" src="assets/scissors.svg" alt="scissors">
        </div>
        <div class="rules">
            <img class="rule-icon" src="assets/scissors.svg" alt="scissors">
            <img class="rule-icon" src="assets/arrow_right.svg" alt="beats">
            <img class="rule-icon" src="assets/paper.svg" alt="paper">
        </div>
        <div class="rules">
            <img class="rule-icon" src="assets/paper.svg" alt="paper">
            <img class="rule-icon" src="assets/arrow_right.svg" alt="beats">
            <img class="rule-icon" src="assets/rock.svg" alt="rock">
        </div>
        <p>(when one of you has won, click anywhere to enter the result of your match)</p>
    </div>
    <div id="banner-retry" class="banner banner-red">
        <img src="/assets/lost.svg" alt=""> You and your opponents inputs didn't match. Please try again
    </div>
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const banner = urlParams.get('banner');
        if (banner === "retry") {
            let overlay = document.getElementById("overlay");
            overlay.remove();
            let elem = document.getElementById("banner-retry");
            elem.style.display = "flex";
            setTimeout(() => {
                elem.style.display = "none";
            }, 5000);
        }
    </script>
    <div class="centered-page">
        <h1>Enter result:</h1>
        <form action="schnick" method="post" id="schnick">
            <div class="outcome-selection">
                <input type="radio" id="won" name="won" value="true" required><label class="button button-left" for="won"><img class="inline-icon" src="assets/won.svg" alt="won"> Won</label>
                <input type="radio" id="lost" name="won" value="false" required><label class="button button-right" for="lost"><img class="inline-icon" src="assets/lost.svg" alt="lost"> Lost</label>
            </div>
            <div class="weapon-selection">
                <input type="radio" id="rock" name="weapon" value="0" required><label class="button button-left" for="rock"><img class="weapon" src="assets/rock.svg" alt="rock"></label>
                <input type="radio" id="paper" name="weapon" value="2" required><label class="button" for="paper"><img class="weapon" src="assets/paper.svg" alt="paper"></label>
                <input type="radio" id="scissors" name="weapon" value="1" required><label class="button button-right" for="scissors"><img class="weapon" src="assets/scissors.svg" alt="scissors"></label>
            </div>
            <button type="submit" class="button button-single" id="select">Submit</button>
        </form>
    </div>
{% endblock %}
{% block footer %}
    <nav>
        <a class="button button-single button-active" id="abort" href="schnick/abort"><img class="icon" src="assets/abort.svg" alt="abort"></a>
    </nav>
{% endblock %}